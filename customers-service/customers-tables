$ sleep 10 # wait till the mysql is pod is created
## rsh will ssh into the mysql pod
oc rsh $(oc get pods | grep mysql | grep Running | awk '{print $1}')

## inside the pod 
mysql -u $MYSQL_USER -p$MYSQL_PASSWORD -h $HOSTNAME $MYSQL_DATABASE

CREATE TABLE CUSTOMER (
  CUSTOMER_ID INT NOT NULL ,
  FIRST_NAME VARCHAR(45) NOT NULL,
  LAST_NAME VARCHAR(45) NOT NULL,
  BIRTHDATE DATE,
  DATE_CREATED DATE,
  DATE_UPDATED DATE,
  PRIMARY KEY (CUSTOMER_ID) );

CREATE TABLE CONTACT (
  CUSTOMER_ID INT NOT NULL,
  CONTACT_TYPE VARCHAR(45),
  CONTACT_NO VARCHAR(45) NOT NULL,
  PRIMARY KEY (CUSTOMER_ID, CONTACT_NO) );
  
CREATE TABLE ADDRESS(
  STREET_ADDRESS VARCHAR(45) NOT NULL,
  STATE VARCHAR(45) NOT NULL,
  CITY VARCHAR(45) NOT NULL,
  ZIP_CODE VARCHAR(45) NOT NULL,
  CUSTOMER_ID INT NOT NULL,
  ADDR_TYPE VARCHAR(45) NOT NULL,
  PRIMARY KEY (CUSTOMER_ID, STREET_ADDRESS, STATE, CITY, ZIP_CODE, ADDR_TYPE) );


oc env dc customers-service -e MYSQL_USER=app_user -e MYSQL_PASSWORD=password -e MYSQL_DATABASE=microservices
oc env dc customers-service -e MYSQL_DB_HOST=demo-database -e MYSQL_DB_PORT=3360 -e MYSQL_DB_USER=demouser -e MYSQL_DB_PASSWORD=password 


